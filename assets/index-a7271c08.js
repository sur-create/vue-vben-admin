import{a as _,p as b,f as O,l as R,k as E,o as N,_ as P}from"./index.js";import{D as V}from"./siteSetting-efd6ab5b.js";import{c as h,u as x}from"./index-8d734a88.js";import{b as v}from"./index-04dbccd5.js";import{h as B}from"./header-55b09394.js";import{D as T,q as A}from"./antd-4273b3e7.js";import{d as F,c as q,a7 as n,Z as t,_ as z,l as a,a9 as k,a8 as r,ab as s,$ as i,a1 as l,a0 as H,F as W}from"./vue-ea98dac5.js";import"./index-ea97099c.js";import"./useContentViewHeight-b8e9ee08.js";import"./useWindowSizeFn-997fa1d0.js";import"./lock-e1183472.js";const Z=F({name:"UserDropdown",components:{Dropdown:T,Menu:A,MenuItem:h(()=>_(()=>import("./DropMenuItem-8af36d4d.js"),["assets/DropMenuItem-8af36d4d.js","assets/index.js","assets/vue-ea98dac5.js","assets/antd-4273b3e7.js","assets/index-e1605b03.css"])),MenuDivider:A.Divider,LockAction:h(()=>_(()=>import("./LockModal-03f6c891.js"),["assets/LockModal-03f6c891.js","assets/index.js","assets/vue-ea98dac5.js","assets/antd-4273b3e7.js","assets/index-e1605b03.css","assets/index-04dbccd5.js","assets/useWindowSizeFn-997fa1d0.js","assets/index-49e92130.css","assets/BasicForm-8ff45fc7.js","assets/FormItem.vue_vue_type_script_lang-3c9b82db.js","assets/componentMap-9be5d326.js","assets/useFormItem-dc719137.js","assets/RadioButtonGroup-f37554dc.js","assets/uuid-a2a47690.js","assets/download-2647fd8d.js","assets/base64Conver-39fc0d26.js","assets/index-07d56da0.js","assets/index-f47e3178.css","assets/IconPicker.vue_vue_type_script_setup_true_lang-cfd9fa6d.js","assets/copyTextToClipboard-a2756f90.js","assets/index-5b24d4ba.js","assets/index-7f5b8959.css","assets/componentMap-b249fc86.css","assets/BasicForm-dd0d74d8.css","assets/useForm-e6560703.js","assets/lock-e1183472.js","assets/header-55b09394.js","assets/LockModal-ca58db68.css"])),ChangeApi:h(()=>_(()=>import("./index-37c0989a.js"),["assets/index-37c0989a.js","assets/index.js","assets/vue-ea98dac5.js","assets/antd-4273b3e7.js","assets/index-e1605b03.css","assets/index-04dbccd5.js","assets/useWindowSizeFn-997fa1d0.js","assets/index-49e92130.css","assets/BasicForm-8ff45fc7.js","assets/FormItem.vue_vue_type_script_lang-3c9b82db.js","assets/componentMap-9be5d326.js","assets/useFormItem-dc719137.js","assets/RadioButtonGroup-f37554dc.js","assets/uuid-a2a47690.js","assets/download-2647fd8d.js","assets/base64Conver-39fc0d26.js","assets/index-07d56da0.js","assets/index-f47e3178.css","assets/IconPicker.vue_vue_type_script_setup_true_lang-cfd9fa6d.js","assets/copyTextToClipboard-a2756f90.js","assets/index-5b24d4ba.js","assets/index-7f5b8959.css","assets/componentMap-b249fc86.css","assets/BasicForm-dd0d74d8.css","assets/useForm-e6560703.js"]))},props:{theme:b.oneOf(["dark","light"])},setup(){const{prefixCls:e}=O("header-user-dropdown"),{t:C}=E(),{getShowDoc:D,getUseLockPage:w,getShowApi:y}=x(),p=R(),o=q(()=>{const{realName:f="",avatar:S,desc:U}=p.getUserInfo||{};return{realName:f,avatar:S||B,desc:U}}),[c,{openModal:u}]=v(),[d,{openModal:m}]=v();function g(){u(!0)}function L(){m(!0,{})}function M(){p.confirmLoginOut()}function I(){N(V)}function $(f){switch(f.key){case"logout":M();break;case"doc":I();break;case"lock":g();break;case"api":L();break}}return{prefixCls:e,t:C,getUserInfo:o,handleMenuClick:$,getShowDoc:D,getShowApi:y,register:c,registerApi:d,getUseLockPage:w}}});const j=["src"];function G(e,C,D,w,y,p){const o=n("MenuItem"),c=n("MenuDivider"),u=n("Menu"),d=n("Dropdown"),m=n("LockAction"),g=n("ChangeApi");return t(),z(W,null,[a(d,{placement:"bottomLeft",overlayClassName:`${e.prefixCls}-dropdown-overlay`},{overlay:k(()=>[a(u,{onClick:e.handleMenuClick},{default:k(()=>[e.getShowDoc?(t(),r(o,{key:"doc",text:e.t("layout.header.dropdownItemDoc"),icon:"ion:document-text-outline"},null,8,["text"])):s("",!0),e.getShowDoc?(t(),r(c,{key:1})):s("",!0),e.getShowApi?(t(),r(o,{key:"api",text:e.t("layout.header.dropdownChangeApi"),icon:"ant-design:swap-outlined"},null,8,["text"])):s("",!0),e.getUseLockPage?(t(),r(o,{key:"lock",text:e.t("layout.header.tooltipLock"),icon:"ion:lock-closed-outline"},null,8,["text"])):s("",!0),a(o,{key:"logout",text:e.t("layout.header.dropdownItemLoginOut"),icon:"ion:power-outline"},null,8,["text"])]),_:1},8,["onClick"])]),default:k(()=>[i("span",{class:l([[e.prefixCls,`${e.prefixCls}--${e.theme}`],"flex"])},[i("img",{class:l(`${e.prefixCls}__header`),src:e.getUserInfo.avatar},null,10,j),i("span",{class:l(`${e.prefixCls}__info hidden md:block`)},[i("span",{class:l([`${e.prefixCls}__name`,"truncate"])},H(e.getUserInfo.realName),3)],2)],2)]),_:1},8,["overlayClassName"]),a(m,{onRegister:e.register},null,8,["onRegister"]),a(g,{onRegister:e.registerApi},null,8,["onRegister"])],64)}const se=P(Z,[["render",G]]);export{se as default};
